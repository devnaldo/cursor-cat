#cursor-cat-container {
  position: fixed;
  pointer-events: none;
  z-index: 9999;
  width: 64px; 
  height: 64px;
}

#cursor-cat {
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  /* Set the size to ONE FRAME of the sprite sheet */
  width: 48px; 
  height: 48px;
  background-image: url('chrome-extension://__MSG_@@extension_id__/cat-sprites.png');
  background-repeat: no-repeat;
  image-rendering: pixelated; /* Keeps pixel art sharp */
}

#sleep-bubble {
  position: absolute;
  top: -5px; /* Position it just above the cat */
  left: 50%;
  transform: translateX(0%);
  width: 32px;
  height: 32px;
  background-image: url('chrome-extension://__MSG_@@extension_id__/zzz.png');
  background-size: contain;
  background-repeat: no-repeat;
  image-rendering: pixelated;
  opacity: 0; /* Hidden by default */
  transition: opacity 0.5s ease-in-out;
}

/* --- ANIMATION STATES --- */

#cursor-cat.active {
  animation: active-cycle 0.8s steps(8) infinite;
}

#cursor-cat.sleeping {
  animation: sleep-cycle 2s steps(4) infinite;
}

/* Show the Zzz bubble only when the container is sleeping */
#cursor-cat-container.sleeping #sleep-bubble {
  opacity: 1;
}

/* --- KEYFRAME DEFINITIONS --- */

/* Top row of the sprite sheet: walking/jumping */
@keyframes active-cycle {
  from { background-position: 0 0; }
  to { background-position: -384px 0; } /* 8 frames * 48px width */
}

/* Bottom row of the sprite sheet: sleeping */
@keyframes sleep-cycle {
  from { background-position: 0 -48px; }
  to { background-position: -192px -48px; } /* 4 frames * 48px width */
}